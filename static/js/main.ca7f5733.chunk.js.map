{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Modal/Modal.jsx","App.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","imageName","handleFormChange","event","setState","currentTarget","value","toLowerCase","handelSubmit","preventDefault","trim","props","onSubmit","alert","className","s","searchbar","form","this","type","button","buttonLabel","size","input","name","onChange","placeholder","Component","ImageGalleryItem","tags","smallImage","openModal","galleryItem","onClick","galleryItemImage","src","alt","ImageGallery","images","imageGallery","map","image","tag","webformatURL","largeImageURL","id","Button","modalRoot","document","querySelector","Modal","hendelKeydown","e","code","closeModal","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","overlay","modal","App","page","error","showModal","selectedImage","status","getImages","fetch","then","response","ok","json","Promise","reject","Error","data","hits","prevState","catch","handleFormSubmit","handleButtonLoadMore","toggleModal","prevProps","scrollTo","top","body","scrollHeight","behavior","color","height","width","timeout","message","length","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ca7f5733.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"galleryItem\":\"ImageGalleryItem_galleryItem__3DSFY\",\"galleryItemImage\":\"ImageGalleryItem_galleryItemImage__r7wPg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1XI7-\",\"modal\":\"Modal_modal__1NGaj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__Q7xEu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3c9RA\"};","import React, { Component } from \"react\";\nimport { VscSearch } from \"react-icons/vsc\";\nimport s from \"../Searchbar/Searchbar.module.css\";\n\nexport class Searchbar extends Component {\n  state = {\n    imageName: \"\",\n  };\n\n  handleFormChange = (event) => {\n    this.setState({\n      imageName: event.currentTarget.value.toLowerCase(),\n    });\n  };\n\n  handelSubmit = (event) => {\n    event.preventDefault();\n\n    if (this.state.imageName.trim() === \"\") {\n      alert(\"Enter images and photos\");\n      return;\n    }\n\n    this.props.onSubmit(this.state.imageName);\n    this.setState({ imageName: \"\" });\n  };\n\n  render() {\n    return (\n      <header className={s.searchbar}>\n        <form className={s.form} onSubmit={this.handelSubmit}>\n          <button type=\"submit\" className={s.button}>\n            <span className={s.buttonLabel}>\n              <VscSearch size=\"2em\" />\n            </span>\n          </button>\n\n          <input\n            className={s.input}\n            type=\"text\"\n            name=\"imageName\"\n            value={this.state.imageName}\n            onChange={this.handleFormChange}\n            // autocomplete=\"off\"\n            // autofocus\n            placeholder=\"Search images and photos\"\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from \"react\";\nimport s from \"../ImageGalleryItem/ImageGalleryItem.module.css\";\n\nfunction ImageGalleryItem(props) {\n  const { tags, smallImage, openModal } = props;\n  return (\n    <li className={s.galleryItem} onClick={openModal}>\n      <img className={s.galleryItemImage} src={smallImage} alt={tags} />\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n","import React from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport s from \"../ImageGallery/ImageGallery.module.css\";\n\nfunction ImageGallery(props) {\n  // console.log(props);\n  const { images, openModal } = props;\n  return (\n    <ul className={s.imageGallery}>\n      {images.map((image) => (\n        <ImageGalleryItem\n          key={image.id}\n          tag={image.tags}\n          smallImage={image.webformatURL}\n          openModal={() => openModal(image.largeImageURL, image.tags)}\n        />\n      ))}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n","import React from \"react\";\nimport s from \"../Button/Button.module.css\";\n\nfunction Button({ onClick }) {\n  return (\n    <div>\n      <button type=\"button\" className={s.button} onClick={onClick}>\n        Load more\n      </button>\n    </div>\n  );\n}\n\nexport default Button;\n","import { React, Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport s from \"../Modal/Modal.module.css\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener(\"keydown\", this.hendelKeydown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"keydown\", this.hendelKeydown);\n  }\n\n  hendelKeydown = (e) => {\n    if (e.code === \"Escape\") {\n      this.props.closeModal();\n    }\n  };\n\n  handleBackdropClick = (event) => {\n    if (event.currentTarget === event.target) {\n      this.props.closeModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>\n          <img src={this.props.image.src} alt={this.props.image.alt} />\n        </div>\n      </div>,\n      modalRoot\n    );\n  }\n}\n\nexport default Modal;\n","import \"./App.css\";\nimport React, { Component } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport Searchbar from \"./Components/Searchbar/Searchbar\";\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\";\nimport Button from \"./Components/Button/Button\";\nimport Modal from \"./Components/Modal/Modal\";\n\nexport class App extends Component {\n  state = {\n    imageName: \"\",\n    page: 1,\n    images: [],\n    error: null,\n    showModal: false,\n    selectedImage: null,\n    status: \"idle\",\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.imageName !== this.state.imageName) {\n      this.setState({ status: \"pending\", images: [], page: 1 });\n        this.getImages();\n\n    }\n\n    if (prevState.page !== this.state.page) {\n      this.setState({ status: \"pending\" });\n        this.getImages();\n\n    }\n\n    if (prevState.images !== this.state.images) {\n      window.scrollTo({\n        top: document.body.scrollHeight,\n        behavior: \"smooth\",\n      });\n    }\n  }\n\n  getImages = () => {\n    return fetch(\n      `https://pixabay.com/api/?q=${this.state.imageName}&page=${this.state.page}&key=21859800-af94843fb327cc57780ddd667&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((response) => {\n        if (response.ok) {\n          return response.json();\n        }\n        return Promise.reject(\n          new Error(`There is no images with name ${this.state.imageName}`)\n        );\n      })\n      .then((data) => data.hits)\n      .then((images) =>\n        this.setState((prevState) => ({\n          images: [...prevState.images, ...images],\n          status: \"resolved\",\n        }))\n      )\n      .catch((error) => this.setState({ error, status: \"rejected\" }));\n  };\n\n  handleFormSubmit = (imageName) => {\n    this.setState({ imageName: imageName });\n  };\n\n  handleButtonLoadMore = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  toggleModal = (src, alt) => {\n    // console.log(src,alt);\n    this.setState((state) => ({\n      showModal: !state.showModal,\n      selectedImage: { src, alt },\n    }));\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Searchbar onSubmit={this.handleFormSubmit} />\n        {this.state.status === \"idle\" && <h1>Start your search </h1>}\n        {this.state.status === \"pending\" && (\n          <Loader\n            type=\"Watch\"\n            color=\"#00BFFF\"\n            height={150}\n            width={150}\n            timeout={3000} //3 secs\n          />\n        )}\n        {this.state.status === \"rejected\" && (\n          <h1>{this.state.error.message}</h1>\n        )}\n        {this.state.status === \"resolved\" && this.state.images.length < 1 && (\n          <h2>invalid name!!!</h2>\n        )}\n        {this.state.status === \"resolved\" && (\n          <ImageGallery\n            images={this.state.images}\n            openModal={this.toggleModal}\n          />\n        )}\n        {this.state.images.length > 0 && (\n          <Button onClick={this.handleButtonLoadMore} />\n        )}\n        {this.state.showModal && (\n          <Modal\n            image={this.state.selectedImage}\n            closeModal={this.toggleModal}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport \"modern-normalize/modern-normalize.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__4O1UN\",\"form\":\"Searchbar_form__1PEn3\",\"button\":\"Searchbar_button__3hVZp\",\"buttonLabel\":\"Searchbar_buttonLabel__GO_k-\",\"input\":\"Searchbar_input__2tPhz\"};"],"sourceRoot":""}